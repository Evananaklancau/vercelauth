<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invictus Dynamic Injector</title>
    <style>
        body { font-family: 'Courier New', monospace; background: #0a0a0a; color: #00ff00; padding: 20px; }
        .editor-container { background: #151515; border: 2px solid #333; padding: 20px; border-radius: 5px; }
        textarea { width: 100%; height: 300px; background: #000; color: #00ff00; border: 1px solid #444; padding: 10px; font-size: 14px; }
        .controls { margin-top: 15px; display: flex; gap: 10px; }
        button { background: #00ff00; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 3px; }
        button:hover { background: #008800; }
        .danger { background: #ff0000; color: #fff; }
        #preview-label { margin-top: 20px; color: #ffca28; font-weight: bold; }
        #execution-zone { border: 1px dashed #555; padding: 10px; margin-top: 10px; min-height: 50px; background: #111; }
    </style>
</head>
<body>

    <div class="editor-container">
        <h2>[ INVICTUS DYNAMIC ENGINE ]</h2>
        <p>Masukkan script JS atau HTML Malware anda di bawah ini:</p>
        
        <textarea id="codeEditor" placeholder="<script>alert('pwned');</script> atau kode html lainnya..."></textarea>
        
        <div class="controls">
            <button onclick="deployCode()">Deploy & Jalankan</button>
            <button class="danger" onclick="resetCode()">Reset Engine</button>
        </div>

        <div id="preview-label">Live Execution Zone:</div>
        <div id="execution-zone">
            </div>
    </div>

    <script>
        // Fungsi untuk mengeksekusi script secara dinamis
        function executeScripts(container) {
            const scripts = container.querySelectorAll("script");
            scripts.forEach(oldScript => {
                const newScript = document.createElement("script");
                Array.from(oldScript.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value));
                newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                oldScript.parentNode.replaceChild(newScript, oldScript);
            });
        }

        // Simpan dan jalankan kode
        function deployCode() {
            const code = document.getElementById('codeEditor').value;
            localStorage.setItem('invictus_payload', code);
            
            const zone = document.getElementById('execution-zone');
            zone.innerHTML = code; // Inject HTML
            
            executeScripts(zone); // Force jalankan <script> tag
            alert("Payload deployed successfully!");
        }

        // Reset semua data
        function resetCode() {
            if(confirm("Hapus semua payload?")) {
                localStorage.removeItem('invictus_payload');
                location.reload();
            }
        }

        // Auto-run saat page load jika ada payload tersimpan
        window.onload = () => {
            const savedPayload = localStorage.getItem('invictus_payload');
            if (savedPayload) {
                document.getElementById('codeEditor').value = savedPayload;
                const zone = document.getElementById('execution-zone');
                zone.innerHTML = savedPayload;
                executeScripts(zone);
                console.log("Invictus: Payload executed from storage.");
            }
        };
    </script>

</body>
</html>
